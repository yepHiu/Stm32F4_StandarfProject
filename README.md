<!--
 * @Author: 奶茶不加冰
 * @Date: 2022-08-01 20:21:48
 * @LastEditors: OBKoro1
 * @LastEditTime: 2022-08-03 16:08:30
 * @FilePath: \2022-08f:\资料整理\STM32F4\stm32f407ve_prj\stm32飞行逻辑控制单元V0.5.5_回滚_中断配置完毕RE_V1.3_任务运行测试\README.md
 * @Description: 
-->
# 开发日志
***
## 2022/8/1 
### 进度
* 把前三天的bug解决了

### Debug:
* 完成UCOS任务切换的配置  
    原因：UCOS的任务是抢占式的任务，假如高优先级的任务一直没有阻塞的服务函数这个任务将会一直进行，从而低优先级的任务将无法进行，因此每个任务都必须加上阻塞的服务函数（信号量服务函数，延时服务函数），而且阻塞要合理，保证任务得到充分得进行，不会被更高优先值得任务抢占。

* 修复R14(LR) 0xfffff1报错     
    发现过程：最后得任务一直得不到进行，只有将任务注释后程序才能正常跑起来，debug之后发现R14(LR) 0XFFFFFF1,查询官方F4编程手册之后发现是中断嵌套，查询MSP和反编译之后锁定位置在TIM7_Handler，将无用代码注释保留中断标志位清除之后，问题解决
    >原文：0xFFFFFFF1 -> Return to Handler mode, exception return uses non-floating-point state fromthe MSP and execution uses MSP after return.

### 碎碎念
* 黑咖真好喝
* 多尝试英文google和查Programming Manual

#### 该天代码最终版本：
`stm32飞行逻辑控制单元V0.5.5_回滚_中断配置完毕RE_V1.1_任务配置完毕`
    
***
## 2022/8/2
### 计划
* 移植信息发送任务函数
* 移植请求任务函数
* 完善飞行逻辑

### 完成
* 添加测试代码，完成测试的飞行逻辑部分，

### Debug
* 今天交互没有跑起来，还有就是又卡进空闲任务了

### 碎碎念
* 太糟糕了，第一天觉得自己骨子是弯的。

#### 该天代码最终版本:  
`stm32飞行逻辑控制单元V0.5.5_回滚_中断配置完毕RE_V1.2_任务逻辑配置`
***
## 2022/8/3
### 计划
* 对任务进行逐个测试，查询任务是否进行
* 提高效率，对尽早完成交互
* 完善飞行逻辑

* 下面定义按键功能和LED显示的任务分配  
    * LED  
        > LED11 -> 起飞状态指示灯  
        > LED1 -> UART1(交互)状态指示灯  
        > LED2 -> UART2(下机位)状态指示灯  
        > LED3 -> UART3(上机位)状态指示灯  
        > LED4 -> UART4(光流)状态指示灯  
        > LED5 -> UART5(TOF)状态指示灯
    * KEY
        > KEY1 -> 起飞按键  
        > KEY2 -> 前进测试  
        > KEY3 -> 后退测试  
        > KEY4 ->   


### 完成
* 

### Debug
* 

### 碎碎念
* 

#### 该天代码最终版本:  
` `
***